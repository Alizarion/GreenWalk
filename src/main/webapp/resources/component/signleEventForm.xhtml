<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"

      xmlns:f="http://java.sun.com/jsf/core">

<cc:interface>

    <cc:attribute
            name="singleEventObject"
            type="com.project.entities.SingleEvent"
            required="false"/>
    <cc:attribute
            name="handleFileUpload"
            method-signature="void action()"
            required="false"/>


</cc:interface>


<cc:implementation>


    <h:form id="singleEventForm"  prependId="false">
        <h:panelGroup id="gallerieGroup">
            <ui:repeat
                    value="#{singleEventCtrl.imageContents}"
                    var="imagecontent"   >
                <p:graphicImage width="100" height="100" value="/images/dynamic/?file=#{imagecontent.file.id}&#38;hctrl=#{imagecontent.file.hashControl}" alt="Image Description for "/>
            </ui:repeat>

        </h:panelGroup>
        <h:panelGrid columns="3">

            <h:outputLabel for="description"
                           value="#{lang['form.singleEvent.description.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"/>
            <p:inputTextarea id="description"
                             requiredMessage="#{lang['form.singleEvent.description.required.message'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             required="true"
                             autoResize="false"
                             value="#{cc.attrs.singleEventObject.title}"/>
            <p:message for="description"  />


        </h:panelGrid>

        <p:fileUpload fileUploadListener="#{singleEventCtrl.fileUploadListenerImageContent}"
                      dragDropSupport="true"
                      auto="true"
                      process="@this"
                      immediate="true"
                      showButtons="false"
                      multiple="true"
                      update="singleEventForm:gallerieGroup"
                      sizeLimit="100000"
                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />



    </h:form>

</cc:implementation>

</html>
