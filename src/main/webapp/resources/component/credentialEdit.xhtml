<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:cc="http://java.sun.com/jsf/composite">

<cc:interface>

    <cc:attribute
            name="newPassword"
            type="java.lang.String"
            required="true"/>

    <cc:attribute
            name="previousPassword"
            type="java.lang.String"
            required="true"/>

    <cc:attribute
            name="resetPassword"
            method-signature="void action()"
            required="true"/>

</cc:interface>

<cc:implementation>

    <div class="container">
        <h:form id="credentialEditForm" prependId="false">

            <h:panelGrid columns="2">

                <h:outputLabel
                        for="oldpass"
                        styleClass="label"
                        value="#{lang['component.credential.previous.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]} :"/>
                <p:password
                        id="oldpass" style="border-radius: 8px;float:right;"
                        required="true"
                        requiredMessage="#{lang['common.from.field.required-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                        value="#{cc.attrs.previousPassword}"/>

                <h:outputLabel
                        for="newpass"
                        styleClass="label"
                        value="#{lang['component.credential.new.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]} : "/>
                <p:password  value="#{cc.attrs.newPassword}"
                             id="newpass"
                             style="border-radius: 8px;float:right;"
                             match="passconfirme"
                             styleClass="password"
                             promptLabel="#{lang['component.credential.new.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             goodLabel="#{lang['component.credential.good.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             strongLabel="#{lang['component.credential.strong.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             weakLabel="#{lang['component.credential.weak.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             requiredMessage="#{lang['common.from.field.required-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                             minLength="4"  feedback="true"/>

                <h:outputLabel
                        for="passconfirme"
                        styleClass="label"
                        value="#{lang['component.credential.new.password.confirm.label-'.concat(sessionAttributeCtrl.selectedLang.key)]} : "/>
                <p:password value="#{cc.attrs.newPassword}"
                            id="passconfirme" minLength="4"
                            promptLabel="#{lang['component.credential.new.password.confirm.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            style="border-radius: 8px;float:right;"
                            goodLabel="#{lang['component.credential.good.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            strongLabel="#{lang['component.credential.strong.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            weakLabel="#{lang['component.credential.weak.password.label-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            styleClass="password"
                            requiredMessage="#{lang['common.from.field.required-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            validatorMessage="#{lang['component.credential.dont.match.password.message-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                            feedback="true">
                </p:password>

                <p:commandButton value="#{lang['form.singleEvent.submit.button-'.concat(sessionAttributeCtrl.selectedLang.key)]}"
                                 update="@form,:growlMsg"
                                 action="#{cc.attrs.resetPassword}"/>

            </h:panelGrid>
        </h:form>
    </div>
</cc:implementation>

</html>
